<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.13"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>Cells Documentation: Unit AI</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
        <script type="text/javascript" src="jquery.smartmenus.js"></script>
        <!-- SmartMenus jQuery Bootstrap Addon -->
        <script type="text/javascript" src="jquery.smartmenus.bootstrap.js"></script>
        <!-- SmartMenus jQuery plugin -->
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">Cells Documentation </a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="page_game_design.html">Game Design</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="class_unit.html">Unit</a> AI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="el" href="class_unit.html">Unit</a> AI </h1>
<p>This page describes how general units are designed to behave. An overview of the resulting AI state machine is shown in the implementation description <a class="el" href="page_unit_ai_impl.html">Unit AI Implementation</a>. Each behaviour can be made up of multiple states traversed to realize the requirements here.</p>
<h2>Default behaviour </h2>
<p>Newly created units shall:</p>
<ul>
<li>If there is a gather point, do an Attack Move there (see below).</li>
<li>If there is no gather point, Idle. The Idle behaviour is also the default after most actions.</li>
</ul>
<h2>Idle<a class="anchor" id="unit_ai_idle"></a></h2>
<ul>
<li>Checks for opponents in a certain guard range when this state is entered.</li>
<li>If there are none, does idles until an opponent enters the guard range.</li>
<li>According to the target selection described below, one opponent should be the current target.</li>
<li>Once in melee range, the current target is attacked.</li>
<li>When all opponents are defeated the gathering behaviour is activated with a selected food item.</li>
<li>If no food is found the unit shall idle.</li>
<li>If food is found, the most appropriate is selected and the Gather Behaviour entered.</li>
</ul>
<p>Food selection should be done with the following selection rule priority, from top to bottom:</p>
<ol type="1">
<li>Eligible food are the items that are in the unit's guard range and can be carried.</li>
<li>Helping other units muster the required strength to carry a food they are waiting at.<br />
 -&gt; Food with missing strength, and the lowest value among these.</li>
<li>Food with the highest value.</li>
<li>The closest item.</li>
</ol>
<p>For implementation, see <a class="el" href="page_unit_ai_impl.html#unit_ai_idle_impl">Idle Behaviour Implementation</a>.</p>
<h2>Gather<a class="anchor" id="unit_ai_gather"></a></h2>
<p>Gathering shall be activated:</p>
<ul>
<li>either by an explicit order to gather a specific item,</li>
<li>or when a battle has ended and was not part of another command preventing gathering. (Example: AttackMove units will continue to their destination after a fight and not gather)</li>
</ul>
<p>While a unit moves to pick up an item it shall:</p>
<ul>
<li>Only be interrupted by taking damage if the gathering was a specific order.</li>
<li>First fight nearby enemies if the gathering was automatic after a battle.</li>
</ul>
<p>For implementation, see <a class="el" href="page_unit_ai_impl.html#unit_ai_gather_impl">Gather Behaviour Implementation</a>.</p>
<h2>Move<a class="anchor" id="unit_ai_move"></a></h2>
<p>The unit shall move to a designated point. No interrupts shall be possible, so the unit shall continue even if taking damage. For implementation, see <a class="el" href="page_unit_ai_impl.html#unit_ai_move_impl">Move Behaviour Implementation</a>.</p>
<h2>Ordered Attack<a class="anchor" id="unit_ai_attack"></a></h2>
<p>While during and automatic attack the target may be switched, an ordered attack by the user shall not be interrupted, except by the target having been defeated or being out of range.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>: Discuss whether an ordered attack is followed by the unit attacking the same target kind with priority. Also, should the target be lost of the unit receives damage by a different unit?</dd></dl>
<p>For implementation, see Ordered Attack Behaviour Implementation.</p>
<h2>Explicit Guard </h2>
<p>As Guard above, but with the following changes:</p>
<ul>
<li>The unit has to return to the original guard position when all targets are lost. The original position is where guard mode was first entered.</li>
<li>Returning to its original position, a unit with explicit guard does not pick up food after battle.</li>
</ul>
<h2>Open points </h2>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Resolve open points for unit ai.</dd></dl>
<ul>
<li>How the design is done for ranged attacks.</li>
<li>Should there be an option to not auto-gather?</li>
</ul>
<h2>Attack Target Selection<a class="anchor" id="unit_ai_target_sel"></a></h2>
<ul>
<li>From all nearby enemies, the unit should attack the closest.</li>
<li>The currently selected target is lost if out of a certain range. </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 17 2020 08:27:49 for Cells Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
        <script type="text/javascript" src="doxy-boot.js"></script>
</html>
